!function(a){var b={init:function(a){console.log(this[a]),this[a].run()}};a.app=b}(window),function(a,b,c){var d=b,e=b.template,f={Events:{},Doms:{$blog:"#blog"},run:function(){this.getData().then(this.init.bind(this))},init:function(a){var b=e("article",{list:a});c.shell.initDom(),this.$blog.innerHTML=b,c.shell.initEvent(),c.shell.bindEvent()},getData:function(){var a=d.PromiseGet("data/list/data_page1.json",!0);return a},initDom:function(){var a,b,c=this.Doms;for(a in c)b=c[a],this[a]?console.error("exist"):this[a]=d.$(b)},initEvent:function(){var a,b,c=this.Events;for(a in c)b=c[a],this[a]?console.error("exist"):this[a]=b},bindEvent:function(){var a,b,c,e=this.listener;for(a in e)b=e[a].type,c=this[e[a].fn].bind(this),d.on(this[a],b,c)}};c.shell=f}(window,util,app),function(a,b,c){var d=b,e=b.template,f=b.markdown;b.throttle("scroll","optimizedScroll");var g={Events:{},Doms:{$win:a,$blog:"#blog",$dataIntro:"p[data-intro]",$dataTitle:"h2[data-title]",$h1:"[data-article=h1]",$infor:"#infor"},listener:{$win:{type:"optimizedScroll",fn:"toggleHead"}},config:{Header_offsetTop:0,Intro_offsetTop:0},run:function(){var b=a.location.pathname,c=b.slice(7,-5);this.getData(c+".md").then(this.init.bind(this))},init:function(a){var b=this.markdownToJson(a),c=b.list.article.intro,f=b.list.article.title,g=e("article",b);d.$("#blog").innerHTML=g,console.log(c),this.initDom(),console.log(this.$h1),this.config.Header_offsetTop=d.offset(this.$h1).top,console.log(this.$infor),this.config.Intro_offsetTop=d.offset(this.$infor).top,this.$dataIntro.innerHTML=c,this.$dataTitle.innerHTML=f,this.initEvent(),this.bindEvent()},getData:function(a){var b=d.PromiseGet("/blogs/"+a);return b},markdownToJson:function(a){var b=f.toHTML(a),c=document.createElement("div");c.innerHTML=b;var e=d.$("h1",c).innerHTML,g=d.$("h2",c).innerHTML,h=d.$("h3",c).innerHTML,i=d.$("h4",c)||"Introduction";console.log(d.$("h4",c)),d.removeEl(["h1","h2","h3"],c);var j=c.innerHTML,k={list:{article:{classify:g,title:e,time:h,article:j,intro:i}}};return k},initDom:function(){var a,b,c=this.Doms;for(a in c)b=c[a],this[a]?console.error("exist"):this[a]=d.$(b)},initEvent:function(){var a,b,c=this.Events;for(a in c)b=c[a],this[a]?console.error("exist"):this[a]=b},bindEvent:function(){var a,b,c,e=this.listener;for(a in e)b=e[a].type,c=this[e[a].fn].bind(this),d.on(this[a],b,c)}};c.blog=g,console.log("blog")}(window,util,app),function(a,b,c){var d=c;console.log("blog.events"),console.log(b);var e=function(){var a,b,c,e,f;return a=function(){var a=document.body.scrollTop,b=document.documentElement.clientHeight,c=this.config.Header_offsetTop,d=this.config.Intro_offsetTop,e=b>a?a:a+b;e>c?this.headShow():this.headHide(),e>d?this.introHide():this.introShow()},b=function(){var a=d.$("#header");d.hasClass(a,"bgbk")||d.addClass(a,"bgbk")},c=function(){var a=d.$("#header");d.hasClass(a,"bgbk")&&d.removeClass(a,"bgbk")},e=function(){var a=d.$("#intro");d.hasClass(a,"transparent")&&d.removeClass(a,"transparent")},f=function(){var a=d.$("#intro");d.hasClass(a,"transparent")||d.addClass(a,"transparent")},{toggleHead:a,headShow:b,headHide:c,introShow:e,introHide:f}}();b.Events=e,console.log("blog.event")}(window,app.blog,util),function(a,b){var c=b,d=b.template,e={run:function(){this.getData().then(this.init.bind(this))},init:function(a){var b=d("archive",a);c.$(".list").innerHTML=b},getData:function(){var a=c.PromiseGet("/data/classify/data.json",!0);return a}};a.archive=e}(app,util);